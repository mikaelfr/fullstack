{"version":3,"sources":["Filter.js","PersonForm.js","Persons.js","Notification.js","services/Server.js","App.js","index.js"],"names":["Filter","filter","handleFilterChange","value","onChange","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Persons","persons","deleteElement","map","person","name","concat","number","toLowerCase","includes","key","onClick","id","Notification","message","className","baseUrl","updateNumber","url","changedPerson","axios","put","then","response","data","App","useState","setPersons","setNewName","setNewNumber","setFilter","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","get","event","target","preventDefault","newPerson","p","indexOf","window","confirm","pers","setTimeout","catch","error","post","delete","deletePerson","ReactDOM","render","document","getElementById"],"mappings":"+NAUeA,EARA,SAAC,GAAkC,IAAjCC,EAAgC,EAAhCA,OAAQC,EAAwB,EAAxBA,mBACrB,OACI,kDACoB,2BAAOC,MAAOF,EAAQG,SAAUF,MCa7CG,EAhBI,SAAC,GAA2E,IAA1EC,EAAyE,EAAzEA,UAAWC,EAA8D,EAA9DA,QAASC,EAAqD,EAArDA,iBAAkBC,EAAmC,EAAnCA,UAAWC,EAAwB,EAAxBA,mBAClE,OACI,0BAAMC,SAAUL,GAChB,sCACQ,2BAAOH,MAAOI,EAASH,SAAUI,KAEzC,wCACU,2BAAOL,MAAOM,EAAWL,SAAUM,KAE7C,6BACE,4BAAQE,KAAK,UAAb,UCMKC,EAhBC,SAAC,GAAsC,IAArCC,EAAoC,EAApCA,QAASb,EAA2B,EAA3BA,OAAQc,EAAmB,EAAnBA,cAS/B,OACI,oCATeD,EAAQE,KAAI,SAAAC,GAC3B,OAAIA,EAAOC,KAAKC,OAAO,KAAKA,OAAOF,EAAOG,QAAQC,cAAcC,SAASrB,EAAOoB,eAEvE,uBAAGE,IAAKN,EAAOC,MAAOD,EAAOC,KAA7B,IAAoCD,EAAOG,OAA3C,IAAmD,4BAAQI,QAAS,kBAAMT,EAAcE,EAAOQ,MAA5C,WAErD,UCMAC,EAZM,SAAC,GAAqB,IAApBC,EAAmB,EAAnBA,QAASf,EAAU,EAAVA,KAC5B,OAAgB,OAAZe,EACO,KAIP,yBAAKC,UAAWhB,GACXe,I,sPCRb,IAAME,EAAU,eAkBVC,EAAe,SAACb,EAAQR,GAC1B,IAAMsB,EAAG,UAAMF,EAAN,YAAiBZ,EAAOQ,IAC3BO,E,yVAAa,IAAQf,EAAR,CAAgBG,OAAQX,IAE3C,OADgBwB,IAAMC,IAAIH,EAAKC,GAChBG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SC4F9BC,G,MAzGH,WAAO,IAAD,EACeC,mBAAS,IADxB,mBACRzB,EADQ,KACC0B,EADD,OAEgBD,mBAAS,IAFzB,mBAERhC,EAFQ,KAECkC,EAFD,OAGmBF,mBAAS,IAH5B,mBAGR9B,EAHQ,KAGGiC,EAHH,OAIcH,mBAAS,IAJvB,mBAIRtC,EAJQ,KAIA0C,EAJA,OAK8BJ,mBAAS,MALvC,mBAKRK,EALQ,KAKQC,EALR,OAM0BN,mBAAS,MANnC,mBAMRO,EANQ,KAMMC,EANN,KAQhBC,qBAAU,WDdQf,IAAMgB,IAAIpB,GACXM,MAAK,SAAAC,GAAQ,OAAIA,EAASC,QCetCF,MAAK,SAAArB,GACJ0B,EAAW1B,QAEd,IA4EH,OACE,6BACE,yCACA,kBAAC,EAAD,CAAca,QAASiB,EAAgBhC,KAAK,YAC5C,kBAAC,EAAD,CAAce,QAASmB,EAAclC,KAAK,UAC1C,kBAAC,EAAD,CAAQX,OAAQA,EAAQC,mBATD,SAACgD,GAC1BP,EAAUO,EAAMC,OAAOhD,UAUrB,yCACA,kBAAC,EAAD,CAAYG,UAlFE,SAAC4C,GACjBA,EAAME,iBACN,IDnBWC,ECmBLpC,EAAS,CACbC,KAAMX,EACNa,OAAQX,GAGV,GAAIK,EAAQE,KAAI,SAAAsC,GAAC,OAAIA,EAAEpC,QAAMqC,QAAQhD,GAAW,GAE9C,GAAIiD,OAAOC,QAAP,UAAkBxC,EAAOC,KAAzB,uEAAoG,CACtG,IAAMoC,EAAIxC,EAAQb,QAAO,SAAAqD,GAAC,OAAIA,EAAEpC,OAASX,KAAS,GAElDuB,EAAawB,EAAG7C,GACf0B,MAAK,SAAAC,GACJI,EAAW1B,EAAQE,KAAI,SAAA0C,GAAI,OAAIA,EAAKjC,KAAO6B,EAAE7B,GAAKiC,EAAOtB,MACzDK,EAAW,IACXC,EAAa,IACbG,EAAkB,GAAD,OAAI5B,EAAOC,KAAX,kCACjByC,YAAW,WAAQd,EAAkB,QAAS,QAE/Ce,OAAM,SAAAC,GACLrB,EAAW1B,EAAQb,QAAO,SAAAyD,GAAI,OAAIA,EAAKjC,KAAO6B,EAAE7B,OAChDsB,EAAgB,GAAD,OAAI9B,EAAOC,KAAX,qCACfyC,YAAW,WAAQZ,EAAgB,QAAS,cDxCvCM,EC+CJpC,ED9CSgB,IAAM6B,KAAKjC,EAASwB,GACrBlB,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SC8CtCF,MAAK,SAAAlB,GACJuB,EAAW1B,EAAQK,OAAOF,IAC1BwB,EAAW,IACXC,EAAa,IACbG,EAAkB,GAAD,OAAI5B,EAAOC,KAAX,uBACjByC,YAAW,WAAQd,EAAkB,QAAS,QAE/Ce,OAAM,SAAAC,GACLd,EAAgB,gBAAD,OAAiB9B,EAAOC,OACvCyC,YAAW,WAAQZ,EAAgB,QAAS,SA0CZxC,QAASA,EAASC,iBApB/B,SAAC0C,GACxBT,EAAWS,EAAMC,OAAOhD,QAmBkEM,UAAWA,EAAWC,mBAhBvF,SAACwC,GAC1BR,EAAaQ,EAAMC,OAAOhD,UAiBxB,uCACA,kBAAC,EAAD,CAASW,QAASA,EAASb,OAAQA,EAAQc,cAzCzB,SAAAU,GACpB,IAAMR,EAASH,EAAQb,QAAO,SAAAqD,GAAC,OAAIA,EAAE7B,KAAOA,KAAI,GAC5C+B,OAAOC,QAAP,iBAAyBxC,EAAOC,KAAhC,OD1Da,SAAAO,GACjB,IAAMM,EAAG,UAAMF,EAAN,YAAiBJ,GAE1B,OADgBQ,IAAM8B,OAAOhC,GACdI,MAAK,SAAAC,GAAQ,OAAIA,EAASC,QCwDvC2B,CAAavC,GACZU,MAAK,SAAAC,GACJI,EAAW1B,EAAQb,QAAO,SAAAqD,GAAC,OAAIA,EAAE7B,KAAOA,MACxCoB,EAAkB,GAAD,OAAI5B,EAAOC,KAAX,yBACjByC,YAAW,WAAQd,EAAkB,QAAS,QAE/Ce,OAAM,SAAAC,GACLrB,EAAW1B,EAAQb,QAAO,SAAAyD,GAAI,OAAIA,EAAKjC,KAAOA,MAC9CsB,EAAgB,GAAD,OAAI9B,EAAOC,KAAX,qCACfyC,YAAW,WAAQZ,EAAgB,QAAS,cC7EpDkB,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.2c09fb46.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({filter, handleFilterChange}) => {\r\n    return (\r\n        <div>\r\n          filter shown with <input value={filter} onChange={handleFilterChange} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({addPerson, newName, handleNameChange, newNumber, handleNumberChange}) => {\r\n    return (\r\n        <form onSubmit={addPerson}>\r\n        <div>\r\n          name: <input value={newName} onChange={handleNameChange} />\r\n        </div>\r\n        <div>\r\n          number: <input value={newNumber} onChange={handleNumberChange} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = ({persons, filter, deleteElement}) => {\r\n    const rows = () => persons.map(person => {\r\n        if (person.name.concat(' ').concat(person.number).toLowerCase().includes(filter.toLowerCase()))\r\n        {\r\n          return <p key={person.name}>{person.name} {person.number} <button onClick={() => deleteElement(person.id)}>delete</button></p>\r\n        }\r\n        return null\r\n      })\r\n\r\n    return (\r\n        <>\r\n        {rows()}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Notification = ({message, type}) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className={type}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newPerson => {\r\n    const request = axios.post(baseUrl, newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = id => {\r\n    const url = `${baseUrl}/${id}`\r\n    const request = axios.delete(url)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst updateNumber = (person, newNumber) => {\r\n    const url = `${baseUrl}/${person.id}`\r\n    const changedPerson = { ...person, number: newNumber }\r\n    const request = axios.put(url, changedPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport { getAll, create, deletePerson, updateNumber }","import React, { useState, useEffect } from 'react'\n\nimport Filter from './Filter'\nimport PersonForm from './PersonForm'\nimport Persons from './Persons'\nimport Notification from './Notification'\nimport { getAll, create, deletePerson, updateNumber } from './services/Server'\n\nimport './index.css'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [ successMessage, setSuccessMessage ] = useState(null)\n  const [ errorMessage, setErrorMessage ] = useState(null)\n\n  useEffect(() => {\n    getAll()\n      .then(persons => {\n        setPersons(persons)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const person = {\n      name: newName,\n      number: newNumber\n    }\n\n    if (persons.map(p => p.name).indexOf(newName) > 0)\n    {\n      if (window.confirm(`${person.name} is already added to phonebook, replace old number with a new one?`)) {\n        const p = persons.filter(p => p.name === newName)[0]\n\n        updateNumber(p, newNumber)\n        .then(response => {\n          setPersons(persons.map(pers => pers.id !== p.id ? pers : response))\n          setNewName('')\n          setNewNumber('')\n          setSuccessMessage(`${person.name}'s number changed succesfully`)\n          setTimeout(() => { setSuccessMessage(null) }, 3000)\n        })\n        .catch(error => {\n          setPersons(persons.filter(pers => pers.id !== p.id))\n          setErrorMessage(`${person.name} was already deleted from server`)\n          setTimeout(() => { setErrorMessage(null) }, 3000)\n        })\n      }\n      \n      return;\n    }\n\n    create(person)\n      .then(person => {\n        setPersons(persons.concat(person))\n        setNewName('')\n        setNewNumber('')\n        setSuccessMessage(`${person.name} added succesfully`)\n        setTimeout(() => { setSuccessMessage(null) }, 3000)\n      })\n      .catch(error => {\n        setErrorMessage(`Couldn't add ${person.name}`)\n        setTimeout(() => { setErrorMessage(null) }, 3000)\n      })\n    }\n\n  const deleteElement = id => {\n    const person = persons.filter(p => p.id === id)[0]\n    if (window.confirm(`Delete ${person.name}?`)) {\n      deletePerson(id)\n      .then(response => {\n        setPersons(persons.filter(p => p.id !== id))\n        setSuccessMessage(`${person.name} removed succesfully`)\n        setTimeout(() => { setSuccessMessage(null) }, 3000)\n      })\n      .catch(error => {\n        setPersons(persons.filter(pers => pers.id !== id))\n        setErrorMessage(`${person.name} was already deleted from server`)\n        setTimeout(() => { setErrorMessage(null) }, 3000)\n      })\n      \n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value);\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={successMessage} type=\"success\" />\n      <Notification message={errorMessage} type=\"error\" />\n      <Filter filter={filter} handleFilterChange={handleFilterChange} />\n\n      <h3>Add a new</h3>\n      <PersonForm addPerson={addPerson} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\n\n      <h3>Numbers</h3>\n      <Persons persons={persons} filter={filter} deleteElement={deleteElement} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}